(self.webpackChunkbendouthwaite_com=self.webpackChunkbendouthwaite_com||[]).push([[409],{2749:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var i=n(7294),r=n(3608),o=n.n(r),a=i.createContext(null),u=i.createContext(0),c=function(e){var t=e.height,n=e.width,r=e.dpr,c=e.isAnimating,l=e.children,h=i.useRef(null),f=n*r,d=t*r,s=i.useState(null),v=s[0],m=s[1];i.useEffect((function(){if(null!==h.current){var e=h.current.getContext("2d");null!==e&&(e.scale(r,r),e.globalCompositeOperation="soft-light",m(e))}}),[r]);var g=i.useState(0),w=g[0],p=g[1];return i.useEffect((function(){var e;return c&&(e=requestAnimationFrame((function(){p(w+1)}))),function(){cancelAnimationFrame(e)}}),[c,w,p]),i.useLayoutEffect((function(){p(o()(1,!0))}),[n,t]),null!==v&&v.clearRect(0,0,f,d),i.createElement(a.Provider,{value:v},i.createElement(u.Provider,{value:w},i.createElement("canvas",{ref:h,height:d,width:f,style:{width:n,height:t}}),l))},l=n(2385),h=n(1469),f=n.n(h),d=function(e,t,n){return o()(e-n,t+n)},s=function(e,t){return"hsla("+o()(e-t,e+t)+", "+o()(4,55)+"%, "+o()(30,80)+"%, "+o()(.2,.6)+")"},v=function(e){var t=e.baseSize,n=e.baseHue,i=e.x,r=e.y,a=o()(1.2*t,2*t),u=Math.round(.1*t),c=f()(i)?i:[i,i],l=c[0],h=c[1],v=f()(r)?r:[r,r],m=v[0],g=v[1];return{x:d(l-.5*a,h-.5*a,u),y:d(m-.5*a,g-.5*a,u),size:a,color:s(n,40),initialRotation:o()(0,90),rotationSpeed:o()(-.1,.1)}},m=function(e){var t,n,r,o=e.x,c=e.y,l=e.size,h=e.color,f=e.initialRotation,d=e.rotationSpeed,s=(i.useContext(u),i.useContext(a)),v=(t=f,n=function(e){return e+d},(r=i.useRef(t)).current=n(r.current),r.current);if(null!==s){var m=.5*l;s.beginPath(),[30,90,150,210,270,330].forEach((function(e,t){var n=(e+v)*Math.PI/180,i={x:o+m+m*Math.cos(n),y:c+m+m*Math.sin(n)};0===t?s.moveTo(i.x,i.y):s.lineTo(i.x,i.y)})),s.fillStyle=h,s.fill()}return null},g=n(3279),w=n.n(g);var p=function(){var e=function(){var e=(0,i.useState)({}),t=e[0],n=e[1],r=(0,i.useState)(),o=r[0],a=r[1],u=(0,i.useCallback)((function(e){a(e)}),[]);return(0,i.useEffect)((function(){if(void 0!==o){var e,t=function(){e=window.requestAnimationFrame((function(){console.log("NODE",o);var e=o.getBoundingClientRect();console.log("RECT:",e.height,e.width),n({width:e.width,height:e.height,dpr:window.devicePixelRatio||1})}))};t();var i=w()(t,100);return window.addEventListener("resize",i),function(){window.removeEventListener("resize",i),window.cancelAnimationFrame(e)}}}),[o]),[u,t]}(),t=e[0],n=e[1],r=n.width,a=n.height,u=n.dpr;return console.log("Width Height DPR REF",r,a,u,t),i.createElement("div",{style:{height:"80vh"},ref:t},void 0===r||void 0===a||void 0===u?i.createElement("div",null,"ðŸ¤”"):i.createElement(c,{width:r,height:a,dpr:u,isAnimating:!0},function(e){for(var t=e.width,n=e.height,i=o()(200,300),r=Math.min(t,n),a=[],u=0;u<=Math.round(t/r);u++)for(var c=0;c<=Math.round(n/r);c++)a.push(v({baseSize:Math.max(t,n),x:u*t,y:c*n,baseHue:i}));var h=(0,l.Z)(Array(o()(5,10))).map((function(){return v({baseSize:r,x:[0,t],y:[0,n],baseHue:i})}));return[].concat(a,(0,l.Z)(h))}({height:a*u,width:r*u}).map((function(e,t){return i.createElement(m,Object.assign({key:t},e))}))))}},9877:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,i){return e+t(n()*(i-e+1))}},3608:function(e,t,n){var i=n(9877),r=n(6612),o=n(8601),a=parseFloat,u=Math.min,c=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&r(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var h=c();return u(e+h*(t-e+a("1e-"+((h+"").length-1))),t)}return i(e,t)}}}]);
//# sourceMappingURL=component---src-pages-sandbox-canvas-page-js-4a58880cb65fc8ac8131.js.map